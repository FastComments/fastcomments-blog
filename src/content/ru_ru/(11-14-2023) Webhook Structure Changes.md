---
[category:API & Development]

###### [postdate]
# [postlink]Изменения в структуре вебхуков[/postlink]

{{#unless isPost}}
Мы внесли некоторые изменения, касающиеся поведения структур вебхуков.
{{/unless}}

{{#isPost}}

### Что нового

До 14 ноября 2023 года мы внесли следующие изменения в вебхуки:

#### Обновление вебхуков

**Ранее**, обновления содержали последнюю версию комментария. Если два пользователя проголосовали за комментарий в быстром succession, это 
вызывало два вебхука. Однако возможно было, что первое событие вебхука содержало **последнюю версию**, в результате чего получались два
идентичных события вебхука:

1. ` ... { votes: 2 } ...`
2. ` ... { votes: 2 } ...`

**С 14 ноября** каждое событие вебхука является идемпотентным и содержит объект комментария на момент изменения. В приведенном выше примере вы теперь получите два события:

1. ` ... { votes: 1 } ...`
2. ` ... { votes: 2 } ...`

#### Удаление вебхуков

**Ранее**, вебхуки на удаление содержали только идентификатор комментария. Это был объект вроде `{ id: string }`.

**С 14 ноября**, вебхуки на удаление будут содержать **целый** объект комментария на момент удаления.

### В заключение

Как и в случае с любыми крупными обновлениями, мы рады, что смогли выделить время для оптимизации, тестирования и правильного выпуска этой функции. Дайте нам знать
ниже, если вы обнаружите какие-либо проблемы.

Cheers!

{{/isPost}}

---