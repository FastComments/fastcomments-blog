---
[category:API & Development]

###### [postdate]
# [postlink]Зміни в структурі вебхуків[/postlink]

{{#unless isPost}}
Ми внесли деякі зміни в поведінку структур вебхуків.
{{/unless}}

{{#isPost}}

### Що нового

Перед 14 листопада 2023 року ми внесли наступні зміни до вебхуків:

#### Оновлення вебхуків

**Раніше** оновлення містили останню версію коментаря. Якщо два користувача проголосували за коментар за короткий проміжок часу, це
запускало два вебхука. Однак, було можливе, що перша подія вебхука містила **останні версії**, що призводило до двох
ідентичних подій вебхуків:

1. ` ... { votes: 2 } ...`
2. ` ... { votes: 2 } ...`

**Станом на 14 листопада** кожна подія вебхука є ідемпотентною і містить об’єкт коментаря на момент зміни. У наведеному прикладі ви тепер отримаєте дві події:

1. ` ... { votes: 1 } ...`
2. ` ... { votes: 2 } ...`

#### Видалення вебхуків

**Раніше** вебхуки для видалення містили лише id коментаря. Це був об'єкт типу `{ id: string }`.

**Станом на 14 листопада** вебхуки для видалення міститимуть **весь** об’єкт коментаря на момент видалення.

### На завершення

Як і у випадку з усіма основними версіями, ми раді, що змогли приділити час для оптимізації, тестування та належного випуску цієї функції. Дайте нам знати
нижче, якщо ви виявите будь-які проблеми.

На здоров'я!

{{/isPost}}

---