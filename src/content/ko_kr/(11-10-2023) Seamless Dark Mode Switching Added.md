---
[category:UI & Customization]

###### [postdate]
# [postlink]매끄러운 다크 모드 전환 추가[/postlink]

{{#unless isPost}}
FastComments는 항상 다크 모드를 지원했습니다. 그러나 다크 모드로 전환하려면 댓글 위젯을 다시 로드해야 했습니다. 이 문제가 해결되었습니다.
{{/unless}}

{{#isPost}}

### 새로운 기능

FastComments는 항상 다크 모드를 지원했습니다. 그러나 다크 모드로 전환하려면 댓글 위젯을 다시 로드해야 했습니다.

즉, 사이트가 다크 모드를 사용하거나 사용자가 라이트 모드와 다크 모드 간에 전환할 수 있게 하려면,
브라우저에서 댓글 위젯을 완전히 제거하고 다시 로드해야 했습니다. 이는 초기 런칭 시 제품을 단순화하기 위해 기술적인 이유로 수행된 것으로, 상태는 부모 페이지와 위젯의 iframe 간에 전달되어야 했기 때문입니다.

무서운 시즌이 끝난 이제, 다크 모드 전환이 개선되었습니다. 댓글 위젯은 이제 라이트 모드와 다크 모드 간의 매끄러운 전환을 지원합니다. 그러나 여전히 필요한 경우 `hasDarkBackground` 플래그를 전달해야 합니다.

### 개발자 및 주의사항

댓글 위젯에 사이트가 다크 모드에 있거나 다크 배경이 적용된 것을 알리려면,
`hasDarkBackground` 플래그를 전달해야 합니다. 이것은 변경되지 않습니다. 그러나 이제 `instance.update(newConfig)`를 호출할 때 (또는 React, Svelte 등의 라이브러리 중 하나에서 상태를 변경할 때), 변경된 유일한 매개변수가 `hasDarkBackground`인지 감지하고, 그렇다면 댓글 위젯을 우아하게 업데이트합니다. 위젯은 백그라운드에서 다크 모드 확장을 비동기적으로 로드하고 필요한 경우 스타일을 업데이트합니다.

하나의 주요 주의사항은 `newConfig`를 전달할 때, 이 기능이 작동하기 위해서는 이 객체가 완전히 새로운 객체여야 한다는 점입니다.

### 결론

모든 주요 릴리스와 마찬가지로, 이 기능을 최적화하고 테스트하며 제대로 릴리스할 수 있어서 기쁩니다. 문제가 발견되면 아래에 알려주세요.

감사합니다!

{{/isPost}}