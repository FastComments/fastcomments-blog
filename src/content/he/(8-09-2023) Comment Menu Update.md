---
[category:API & Development]
###### [postdate]
# [postlink]עדכון תפריט תגובות[/postlink]

{{#unless isPost}}
עדכון זה מיועד בעיקר למפתחים המתאימים את FastComments. עשינו כמה שינויים ב-API וביצענו כמה אופטימיזציות.
{{/unless}}

{{#isPost}}

### <i class="circle">!</i> מאמר זה מכיל מושגים טכניים

### מה חדש

חלק משוכרי FastComments מתאימים את ווידג'ט התגובות. זה יוצר הסכם
בין ההתאמות שלך לבין ההטמעה שלנו. אנו עושים כמיטב יכולתנו לא לשבור את
ההסכם הזה, אך כחלק מההודעה הזו יש לנו שינוי קטן שמשנה את הכללים.

### עבור מפתחים

סלקטור CSS עבור תפריט התגובות שונה.

ישן:

    .comment .menu .menu-content

חדש:

    .menu-content

### שוכרים קיימים

אם אתה כבר משתמש בסלקטור "menu-content" - מזל טוב! עברנו על כל השוכרים שלנו
שמשתמשים בסלקטור הזה ועדכנו את תצורות הווידג'ט שלהם כדי למנוע שיבושים.

אנא תודיע לנו אם יש לך בעיות.

### הסקת מסקנות

מאז שווידג'ט התגובות נוצר, תפריט התגובות היה פשוט תפריט נפתח המופעל באמצעות CSS. זה
דרך פשוטה, מהירה ליישם תפריט נפתח שאינה דורשת הרבה קוד - מטרה עיצובית של FastComments.

עם זאת, במהלך השנים צצו בעיות.

ראשית, כאשר אזור התגובות בעל גובה מסוים וניתן לגלול, כמו בצ'אט שידור חי,
גישה לתפריט בחלק התחתון קשה שכן התפריט ינסה לחרוג מעבר לאזור התוכן הניתן לגלילה. זה יוצר חלק מהתפריט חסר ודרוש לך
להזיז את העכבר שלך ולחזור על התפריט כדי לבצע את העבודה שהיית מנסה לעשות. הרגשנו
שזה מתסכל להשתמש.

נעשו כמה פתרונות חלופיים, כמו להפוך את כיוון התפריט **מעלה**,
אך זה גם לא עובד אם גובה הווידג'ט אינו גבוה מספיק ויש הרבה פרטי פעולה בתפריט - כמו עבור מנהלים. במקרה זה, יהיה אידיאלי להוריד את התפריט
מעבר לאזור התוכן הניתן לגלילה.

### יתרונות בגודל

אחד היתרונות של שינוי זה הוא שהצלחנו לאזול הרבה קוד למודול שמתארח באופן אסינכרוני. זה יאפשר לנו להרחיב את הפעולות שאתה יכול לבצע על נתוני התגובות מבלי להפוך
את העומס הראשוני של הווידג'ט למנופח. זה מציג קריאה לרשת בפעם הראשונה שאתה מרחף
על תפריט העריכה, אך החבילה הראשונית היא מאוד קטנה (< 1kb) כך שזה לא צריך להיות מורגש מאוד.

זה מאוד קשה להמשיך לפתח תוכנה וגם להקטין את גודלה עם הזמן. בדרך כלל תוכנה
מתחילה מהר ומאטה. לכן, אנו תמיד שמחים לשמור על FastComments מהיר:

    לפני: 28.76kb gzipped (108.02kb סה"כ)
    אחרי: 28.39kb gzipped (105.79kb סה"כ)

פחות קוד הוא גם פחות קוד עבור הדפדפן שלך לנתח בזמן טעינת העמוד. ההשפעה של זה
תתרחב ככל שהוספות חדשות יתווספו.

### יתרונות בביצועים

התפריט הישן רנדר את כל פריטי התפריט, וטעינה את כל ההרחבות כדי לראות אם ההרחבות
יש פריטים להוסיף, ורנדר גם אותם - לכל תגובה - כך שהתוכן היה מוכן לעכבר שלך.

בדרך כלל יש רק 30 - 100 אובייקטים כך שזה בדרך כלל לא עסק גדול, אך ההשפעה הלכה
וגדלה. המערכת החדשה מסירה את הדאגה הזו
כעת התפריט רנדר רק על פי דרישה.

הסחר החליפין הוא שהתפריט החדש ממוקם ורנדר באמצעות JS כדי להשיג את מה שאנחנו רוצים. נמשיך
לשפר אותו ככל האפשר, עם זאת, הוא פועל היטב כרגע.

### לסיכום

תודה ללקוחות שלנו על סבלנותם בהשקת שינויים אלה. אנו מקווים שתמשיך לאהוב את FastComments.

לחיים!

{{/isPost}}

---