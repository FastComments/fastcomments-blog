---
[category:API & Development]

###### [postdate]
# [postlink]Промени в структурата на Webhook[/postlink]

{{#unless isPost}}
Направихме някои промени, свързани с поведението на структурата на webhook-овете.
{{/unless}}

{{#isPost}}

### Какво е новото

Преди 14 ноември 2023 г. направихме следните промени в webhook-овете:

#### Обновяване на Webhook-ове

**По-рано**, обновленията съдържаха последната версия на коментара. Ако двама потребители гласуваха за коментар в бърза последователност, това 
можеше да задейства два webhook-а. Въпреки това, беше възможно първото събитие на webhook да съдържа **последната версия**, което водеше до две 
идентични събития на webhook:

1. ` ... { votes: 2 } ...`
2. ` ... { votes: 2 } ...`

**От 14 ноември** всяко събитие на webhook е идемпотентно и съдържа коментарния обект в момента на промяната. В горния пример сега ще получите две събития:

1. ` ... { votes: 1 } ...`
2. ` ... { votes: 2 } ...`

#### Изтриване на Webhook-ове

**По-рано**, webhook-овете за изтриване съдържаха само ID на коментара. Това беше обект като `{ id: string }`.

**От 14 ноември**, webhook-овете за изтриване ще съдържат **целия** коментарен обект в момента на изтриването.

### В заключение

Както при всички основни версии, сме щастливи, че успяхме да отделим време за оптимизация, тестване и правилно пускане на тази функция. Кажете ни 
по-долу, ако откриете някакви проблеми.

Наздраве!

{{/isPost}}

---