---
[category:UI & Customization]

###### [postdate]
# [postlink]新增無縫夜間模式切換[/postlink]

{{#unless isPost}}
FastComments 一直以來都支援夜間模式。然而，之前切換到夜間模式需要重新載入評論小部件。這個問題已經修正。
{{/unless}}

{{#isPost}}

### 新增功能

FastComments 一直以來都支援夜間模式。然而，之前切換到夜間模式需要重新載入評論小部件。

這意味著如果網站使用夜間模式，或者允許用戶在明亮和黑暗模式之間切換，我們會
完全從瀏覽器移除評論小部件並重新載入。這是由於技術原因，為了簡化產品的初始啟動，因為狀態必須在父頁面和小部件的 iframe 之間來回傳遞。

考慮到恐怖季節已經結束 - 夜間模式的切換已經得到改善。評論小部件現在支援在明亮和黑暗模式之間的無縫過渡。然而，在適用的情況下，仍然需要傳遞 `hasDarkBackground` 標誌。

### 對於開發者的提示和注意事項

要告訴評論小部件您的網站是在夜間模式 - 或有應用的深色背景 - 您需要傳遞 `hasDarkBackground` 標誌。這一點不變。然而，現在當您調用 `instance.update(newConfig)`（或在我們的 React、Svelte 等庫之一中更改狀態）時，我們將檢測唯一修改的參數是否是 `hasDarkBackground`，如果是這樣，則會優雅地更新評論小部件。小部件將在背景中異步加載夜間模式擴展，並在必要時更新其樣式。

一個主要的注意事項是，當您傳遞 `newConfig` 時 - 這必須是一個全新的對象，才能使此功能正常運作。

### 總結

像所有主要版本一樣，我們很高興能夠花時間來優化、測試，並適當地發布此功能。如果您發現任何問題，請在下方告訴我們。

乾杯！

{{/isPost}}

---